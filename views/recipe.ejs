<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<%- include("templates/header") %>
<div class="container">
  <div class="card mb-3">
    <div class="row g-0">
      <div class="col-md-4 text-center d-flex align-items-center justify-content-center">
        <img src= <%= recipe.image %> class="img-fluid">
      </div>
    </div>
      
      <div class="col-md-8">
        <div class="d-flex justify-content-between align-items-center">
          <h1 class="card-title"><%= recipe.label %></h1>
          <div class="d-flex justify-content-end ml-auto">
            <form method="POST" action="/favorite">
              <input type="hidden" name="label" value="<%= recipe.label %>">
              <input type="hidden" name="totalTime" value="<%= recipe.totalTime %>">
              <input type="hidden" name="ingredientLines" value="<%= recipe.ingredientLines %>">
              <input type="hidden" name="calories" value="<%= recipe.calories %>">
              <input type="hidden" name="totalNutrients[PROCNT][quantity]" value="<%= parseInt(recipe.totalNutrients.PROCNT.quantity) %>">
              <input type="hidden" name="totalNutrients[CHOCDF][quantity]" value="<%= parseInt(recipe.totalNutrients.CHOCDF.quantity) %>">
              <input type="hidden" name="totalNutrients[FAT][quantity]" value="<%= parseInt(recipe.totalNutrients.FAT.quantity) %>">
              <button id="favoriteButton" class="btn btn-outline-danger btn-sm" data-recipe-id="<%= recipe.id %>">
                <span class="material-symbols-outlined">favorite</span>
              </button>
            </form>
            
           
          </div>
        </div>
        <div class="rating">
          <span class="material-symbols-outlined">star</span>
          <span class="material-symbols-outlined">star</span>
          <span class="material-symbols-outlined">star</span>
          <span class="material-symbols-outlined">star</span>
          <span class="material-symbols-outlined">star</span>
          <p>X Ratings</p>
        </div>
      </div>
    

    <div class="card-body">
      <div class="col-12">
        <hr>
      </div>
      <div class="row">
        <div class="col-4">
          <p>Spiciness: Medium</p>
        </div>
        <div class="col-4">
          <p>Cook time: <%= recipe.totalTime %> minutes</p>
        </div>
        <div class="col-4">
          <p>Difficulty: Intermediate</p>
        </div>
      </div>
    </div>
  </div>

  <div class="card mb-3">
    <div class="card-body">
      <h2 class="card-title">Ingredients</h2>
      <ul class="list-unstyled">
        <% recipe.ingredientLines.forEach(function(ingredient) { %>
          <li><%= ingredient %></li>
        <% }); %>
      </ul>
    </div>
  </div>

  <div class="card mb-3">
    <div class="card-body">
      <h2 class="card-title">Nutritional Information</h2>
      <table class="table">
        <thead>
          <tr>
            <th>Calories</th>
            <th>Protein</th>
            <th>Carbs</th>
            <th>Fat</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><%= parseInt(recipe.calories) %></td>
            <td><%= parseInt(recipe.totalNutrients.PROCNT.quantity) %></td>
            <td><%= parseInt(recipe.totalNutrients.CHOCDF.quantity) %></td>
            <td><%= parseInt(recipe.totalNutrients.FAT.quantity) %></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="card mb-3">
    <div class="card-body">
      <h2 class="card-title">Instructions</h2>
      <ol class="list-unstyled">
        
      </ol>
    </div>
  </div>
</div>
<script src="/recipe.js"></script>
<%- include("templates/footer") %>    
